# æµç¨‹æ§åˆ¶

> å­¦ä¹ å¦‚ä½•æ§åˆ¶æµ‹è¯•æ­¥éª¤çš„æ‰§è¡Œæµç¨‹ã€‚

---

## ğŸ“– æ¦‚è¿°

æµç¨‹æ§åˆ¶å…è®¸ä½ å®ç°æ¡ä»¶æ‰§è¡Œã€æ­¥éª¤ä¾èµ–ç­‰é«˜çº§åœºæ™¯ã€‚é€šè¿‡ `skip_if`ã€`only_if`ã€`depends_on` ç­‰å…³é”®å­—ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶å“ªäº›æ­¥éª¤åœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ‰§è¡Œã€‚

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç« åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- ä½¿ç”¨æ¡ä»¶è·³è¿‡æ­¥éª¤
- è®¾ç½®æ­¥éª¤ä¾èµ–å…³ç³»
- é…ç½® setup/teardown é’©å­
- å®ç°åˆ†æ”¯æµ‹è¯•æµç¨‹

---

## âš™ï¸ YAML å…³é”®å­—å‚è€ƒ

| å…³é”®å­— | ç±»å‹ | å¿…å¡« | æè¿° |
|-------|------|------|------|
| skip_if | string | âŒ | æ»¡è¶³æ¡ä»¶æ—¶è·³è¿‡æ­¥éª¤ |
| only_if | string | âŒ | ä»…å½“æ¡ä»¶æ»¡è¶³æ—¶æ‰§è¡Œ |
| depends_on | array | âŒ | ä¾èµ–çš„æ­¥éª¤åç§°åˆ—è¡¨ |
| setup | array | âŒ | å‰ç½®æ­¥éª¤ |
| teardown | array | âŒ | åç½®æ­¥éª¤ |

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šæ¡ä»¶æ‰§è¡Œ

```yaml
steps:
  - name: "æ£€æŸ¥ç¯å¢ƒ"
    method: GET
    url: "${base_url}/health"
    extractors:
      - name: env_ready
        path: "$.status"

  - name: "ä»…åœ¨ç¯å¢ƒå°±ç»ªæ—¶æ‰§è¡Œ"
    only_if: "${env_ready} == 'ready'"
    method: POST
    url: "${base_url}/init"

  - name: "è·³è¿‡æŸäº›æ¡ä»¶"
    skip_if: "${skip_tests} == true"
    method: GET
    url: "${base_url}/tests"
```

### ç¤ºä¾‹2ï¼šæ­¥éª¤ä¾èµ–

```yaml
steps:
  - name: "åˆ›å»ºç”¨æˆ·"
    method: POST
    url: "${base_url}/users"
    extractors:
      - name: user_id
        path: "$.data.id"

  - name: "åˆ é™¤ç”¨æˆ·"
    depends_on: ["åˆ›å»ºç”¨æˆ·"]
    method: DELETE
    url: "${base_url}/users/${user_id}"
```

### ç¤ºä¾‹3ï¼šSetup/Teardown

```yaml
steps:
  - name: "ä¸»æµ‹è¯•æ­¥éª¤"
    setup:
      - name: "å‡†å¤‡æµ‹è¯•æ•°æ®"
        method: POST
        url: "${base_url}/setup"
    teardown:
      - name: "æ¸…ç†æµ‹è¯•æ•°æ®"
        method: DELETE
        url: "${base_url}/cleanup"
    method: GET
    url: "${base_url}/test"
```

---

## ğŸ”— ç›¸å…³èµ„æº

- [ä¸Šä¸€ç« ï¼šç¯å¢ƒé…ç½®](./05_ç¯å¢ƒé…ç½®.md)
- [ä¸‹ä¸€ç« ï¼šé‡è¯•ä¸ç­‰å¾…](./07_é‡è¯•ä¸ç­‰å¾….md)
