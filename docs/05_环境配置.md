# ç¯å¢ƒé…ç½®

> å­¦ä¹ å¦‚ä½•ç®¡ç†å¤šç¯å¢ƒé…ç½®ï¼Œå®ç°æµ‹è¯•ç¯å¢ƒçµæ´»åˆ‡æ¢ã€‚

---

## ğŸ“– æ¦‚è¿°

ç¯å¢ƒé…ç½®ï¼ˆProfilesï¼‰å…è®¸ä½ ä¸ºä¸åŒç¯å¢ƒï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰å®šä¹‰ä¸åŒçš„é…ç½®ï¼Œé€šè¿‡åˆ‡æ¢ `active_profile` å¿«é€Ÿåˆ‡æ¢ç›®æ ‡ç¯å¢ƒï¼Œæ— éœ€ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹ä»£ç ã€‚

---

## ğŸ¯ å­¦ä¹ ç›®æ ‡

å®Œæˆæœ¬ç« åï¼Œä½ å°†èƒ½å¤Ÿï¼š
- å®šä¹‰å¤šç¯å¢ƒé…ç½®
- åˆ‡æ¢æ´»åŠ¨ç¯å¢ƒ
- ç†è§£é…ç½®ä¼˜å…ˆçº§
- ä½¿ç”¨å…¨å±€é…ç½®æ–‡ä»¶

---

## âš™ï¸ YAML å…³é”®å­—å‚è€ƒ

| å…³é”®å­— | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | æè¿° |
|-------|------|------|--------|------|
| profiles | object | âŒ | {} | ç¯å¢ƒé…ç½®å­—å…¸ |
| active_profile | string | âŒ | null | å½“å‰æ¿€æ´»çš„ç¯å¢ƒ |
| base_url | string | âŒ | "" | åŸºç¡€ URL |
| timeout | number | âŒ | 30 | è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ |
| retry_times | number | âŒ | 0 | é‡è¯•æ¬¡æ•° |
| variables | object | âŒ | {} | å…¨å±€å˜é‡ |

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¤šç¯å¢ƒé…ç½®

```yaml
name: "å¤šç¯å¢ƒæµ‹è¯•"
config:
  profiles:
    dev:
      base_url: "http://localhost:8080"
      variables:
        api_key: "dev_key_123"
        debug: true
    test:
      base_url: "http://test.api.com"
      variables:
        api_key: "test_key_456"
        debug: true
    prod:
      base_url: "https://api.example.com"
      variables:
        api_key: "prod_key_789"
        debug: false
  active_profile: "dev"
  timeout: 30

steps:
  - name: "ä½¿ç”¨ç¯å¢ƒé…ç½®"
    method: GET
    url: "${config.profiles.dev.base_url}/health"
    headers:
      X-API-Key: "${config.profiles.dev.variables.api_key}"
```

### ç¤ºä¾‹2ï¼šå‘½ä»¤è¡Œåˆ‡æ¢ç¯å¢ƒ

```bash
# ä½¿ç”¨å¼€å‘ç¯å¢ƒ
sisyphus --cases test.yaml --profile dev

# ä½¿ç”¨æµ‹è¯•ç¯å¢ƒ
sisyphus --cases test.yaml --profile test

# ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒ
sisyphus --cases test.yaml --profile prod
```

---

## ğŸ”§ é…ç½®ä¼˜å…ˆçº§

ä»é«˜åˆ°ä½ï¼š
1. å‘½ä»¤è¡Œå‚æ•°
2. ç¯å¢ƒå˜é‡
3. æ­¥éª¤çº§é…ç½®
4. ç”¨ä¾‹çº§é…ç½®ï¼ˆconfigï¼‰
5. å…¨å±€é…ç½®æ–‡ä»¶

---

## ğŸ”— ç›¸å…³èµ„æº

- [ä¸Šä¸€ç« ï¼šæå–å™¨](./04_æå–å™¨.md)
- [ä¸‹ä¸€ç« ï¼šæµç¨‹æ§åˆ¶](./06_æµç¨‹æ§åˆ¶.md)
