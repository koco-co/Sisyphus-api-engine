# ==============================================================================
# Sisyphus API Engine - 全局配置文件
# ==============================================================================
# 此文件包含所有测试用例共享的配置信息
# 使用方法：在测试用例文件中引入此配置
#   config: !include ../config/global_config.yaml
#
# 环境切换：
#   sisyphus --cases test.yaml --profile dev
#   sisyphus --cases test.yaml --profile staging
#   sisyphus --cases test.yaml --profile prod
# ==============================================================================

# 环境配置
profiles:
  # 开发环境
  dev:
    base_url: "http://dev-api.example.com"
    variables:
      api_key: "dev-key-12345"
      timeout: 30
      retry_times: 3
    timeout: 30
    verify_ssl: false

  # 测试环境
  staging:
    base_url: "http://staging-api.example.com"
    variables:
      api_key: "staging-key-67890"
      timeout: 30
      retry_times: 2
    timeout: 30
    verify_ssl: true

  # 生产环境
  prod:
    base_url: "https://api.example.com"
    variables:
      api_key: "prod-key-abcde"
      timeout: 60
      retry_times: 1
    timeout: 60
    verify_ssl: true

# 默认激活环境（可在运行时通过 --profile 参数覆盖）
active_profile: "dev"

# 全局变量
variables:
  # 通用请求头
  user_agent: "Sisyphus-API-Engine/1.0.1"
  content_type: "application/json"

  # 测试数据
  test_username: "testuser"
  test_password: "Test1234!"

# 全局超时配置
timeout: 30

# 环境变量加载配置
env_vars:
  prefix: "API_"  # 加载以 API_ 开头的环境变量
  mapping:
    db_password: "DB_PASSWORD"
    api_token: "API_TOKEN"

# 全局输出配置（注释掉默认值，让用例自行决定）
# output:
#   format: "text"
#   path: "results/output.json"
#   save_response: true
#   save_request: true

# 全局调试配置
debug:
  enabled: false
  log_level: "INFO"
  log_variables: false

# 全局重试策略
retry_policy:
  max_attempts: 3
  strategy: "exponential"
  base_delay: 1.0
  max_delay: 10.0

